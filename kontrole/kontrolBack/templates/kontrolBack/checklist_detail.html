{% extends 'kontrolBack/base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}

<div class="row d-flex justify-content-center">
<div class="col-md-8">
    <br>
    <h2 class="m-4">Edycja listy sprawdzającej: {{checklist.name}}</h2>
    
    <form action="" method="POST" novalidate>

    <h3 class="m-4 jk-margin">Zawartość listy:</h3>
    {% if questions %}
    <table class="table table-striped">
        <thead class="thead-dark">
            <tr>
                <th>#</th>
                <th>Pytanie</th>
                <th>Blok</th>
                <th>Akcje</th>
            </tr>
        </thead>
        <tbody>        
            {% for q in questions %}
            <tr>
                <td><div class="forloop-counter">{{ forloop.counter }}</div></td>
                <td>{{ q.question_name }}</td>
                <td>{{ q.block_name }}</td>
                <td> 
                    <a href="{% url 'checklist_question_delete_view' checklist_pk=checklist.pk  question_pk=q.pk %}" class="btn btn-outline-danger">Usuń</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endif %}

    <br><h3 class="m-4 jk-margin">Wybierz nowe pytania:</h3>    
    <!-- <form action="" method="POST"> -->
        {% csrf_token %}
        <div class="base_menu">
            {{ form.block|as_crispy_field }}
        </div>
        

        <div class="checkbox-success checkbox-lg">
            {{ form.questions|as_crispy_field }}
        </div>

        <input type="submit" class="btn btn-outline-success float-right" id="submitQuestion" value="Dodaj">
    </form>

</div>
</div>
<script src="{% static 'kontrolBack/main.js' %}"></script>
{% endblock content %}